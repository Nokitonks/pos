<Manager>:
  id: screen_manager

  menu_screen: menu_screen
  reg_screen: reg_screen
  table_screen: table_screen
  token_screen: token_screen

  MenuScreen:
    id: menu_screen
    name: "menu_screen"
    manager: screen_manager
  
  TableScreen:
    id: table_screen
    name: "table_screen"
    manager: screen_manager  

  RegisterScreen:
    id: reg_screen
    name: "reg_screen"
    manager: screen_manager
  
  TokenScreen:
    id: token_screen
    name: "token_screen"
    manager: screen_manager


<TokenScreen>:
  BoxLayout:
    orientation: "vertical"
    cols: 1
    Button:
      id: back_button
      text: 'Back'
      size_hint: 0.25 , 0.1
    BoxLayout:
      id:token_toggle_buttons
      size_hint:  1 , 0.1
      orientation: "horizontal"
      rows:1
      TokenToggleButton:
        group: "token_category"
        text: 'Tokens' 
      TokenToggleButton:
        group: "token_category"
        text: 'Drinks' 
      TokenToggleButton:
        group: "token_category"
        text: 'Admin' 
    SearchArea:
      size_hint: 1,0.1 
    TokenLayoutView:
      id: token_view
      viewclass: 'TokenItem'
      size_hint:  1 , 0.6
      TokenLayout:
        orientation: 'vertical'
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        multiselect: False
    AddTokenItemButton:
      text: "Add new value"
      size_hint:  1 , 0.1

<DrinkItem>:
  canvas.before:
    Color:
      rgba: (0,0.9,.1,.3) if self.selected else (0,0,0,1)
    Rectangle:
      pos: self.pos
      size: self.size
<TokenItem>:
  canvas.before:
    Color:
      rgba: (0,0.9,.1,.3) if self.selected else (0,0,0,1)
    Rectangle:
      pos: self.pos
      size: self.size


<AdminItem>:
  canvas.before:
    Color:
      rgba: (0,0.9,.1,.3) if self.selected else (0,0,0,1)
    Rectangle:
      pos: self.pos
      size: self.size
<AdminItemLayout>:
  BoxLayout:
    orientation: "horizontal"
    cols:2
    Label:
      id:token_id
      text: "TokenID"
      size_hint: 0.5,1
    Label:
      id:desc
      text: "Description"
      size_hint: 0.5,1
<DrinkItemLayout>:
  BoxLayout:
    orientation: "horizontal"
    cols:6
    Label:
      id:drink_id
      text: "DrinkID"
      size_hint: 0.1,1
    Label:
      id:price
      text: "Price"
      size_hint: 0.3,1
    Label:
      id:discount
      text: "Discount"
      size_hint: 0.1,1
    Label:
      id:token_id
      text: "TokenID"
      size_hint: 0.1,1
    Label:
      id:solve
      text: "Solve"
      size_hint: 0.1,1
    Label:
      id:name
      text: "Name"
      size_hint: 0.3,1

<TokenItemLayout>:
  BoxLayout:
    orientation: "horizontal"
    cols:5

    Label:
      id:customer_id
      text: "CustomerID"
      size_hint: 0.1,1
    Label:
      id:token_id
      text: "TokenID"
      size_hint: 0.25,1
    Label:
      id:half_solved
      text: "Half Solved"
      size_hint: 0.1,1
    Label:
      id:solved
      text: "Solved"
      size_hint: 0.1,1
    Label:
      id:threewords
      text: "ThreeWords"
      size_hint: 0.1,1
    Label:
      id:name_id
      text: "NameID"
      size_hint: 0.35,1


<CheckoutPopup>:
  size_hint: 0.6,0.6  
<CheckoutPopupLayout>:
  orientation: 'vertical'
  Label:
    id: items
    text: "Total Items :x"
  Label:
    id: price
    text: "Total Price: x"
  BoxLayout:
    Button:
      id: send_to_terminal
      text: "Send to Terminal"
    Button:
      id: checkout_no_pay
      text: "Checkout without paying"

<TokenItemPopup>:
  size_hint: 0.6,0.6  

<TokenItemPopupLayout>:
  orientation: 'vertical'
  BoxLayout:
    id: token_popout
  BoxLayout:
    cols:2
    rows:1
    Button:
      id: cb
      text: "Close"
    Button:
      id: delete
      text: "Delete"

<EditButtonPopup>:
  size_hint: 0.6,0.6  
<EditButtonPopupLayout>:
  orientation: 'vertical'
  BoxLayout:
    id: edit_popout
    orientation: 'vertical'
    size_hint: 1 , 3
  BoxLayout:
    cols:1
    rows:1
    Button:
      id: cb
      text: "Close"
      size_hint: 0.5 , 1.0
    SaveButton:
      id: save
      value: ""
      text: "Save"
      size_hint: 0.5 , 1.0

<TableScreen>:
  BoxLayout:
    orientation: "vertical"
    Button:
      id: back_button
      text: 'Back'
      size_hint: 0.25 , 0.1
    SparseGridLayout:
      rows: 6
      columns: 6
      id: table_grid

<MenuScreen>:
  BoxLayout:
    orientation: "vertical"
    cols: 1
    Button: 
      id: table_button
      text: "Table Screen"
    Button: 
      id: token_button
      text: "Token Screen"
    Button: 
      id: connect_button
      text: "Connect to Terminal"

<CheckItem>:
  canvas.before:
    Color:
      rgba: (0,0.9,.1,.3) if self.selected else (0,0,0,1)
    Rectangle:
      pos: self.pos
      size: self.size

<ConnectPopup>:
  size_hint: 0.6,0.6  
<CheckItemPopup>:
  size_hint: 0.6,0.6  

<ConnectPopupLayout>:
  orientation: 'vertical'
  Label:
    id: connecting
    text: "Connecting to terminal..."
<CheckItemPopupLayout>:
  orientation: 'vertical'
  CheckItemLayout:
    id: check_item
  Label:
    text: "Assign to seat"
  BoxLayout:
    id: assign_seat
    rows:1
  BoxLayout:
    cols:2
    rows:1
    Button:
      id: cb
      text: "Close"
    Button:
      id: delete
      text: "Delete"
   
<CheckItemLayout>:
  cols: 3
  rows: 1
  Label:
    id: drink_name
  Label: 
    id: drink_quantity
  Label:
    id: assigned_seat
  Label:
    id: drink_price
<RegisterScreen>:
  GridLayout:
    cols: 2
    size: root.width, root.height 
    BoxLayout:
      orientation: 'vertical'
      id: left
      BoxLayout:
        rows:1
        size_hint:  1 , 0.05
        Button:
          id: back_button
          text: 'Back'
          size_hint: 0.25 , 1
        Label:
          text:"User Logged in"
          size_hint: 0.75 , 1
      CheckLayoutView:
        id: check_view
        viewclass: 'CheckItem'
        size_hint:  1 , 0.7
        CheckLayout:
          id:check_layout_view
          orientation: 'vertical'
          default_size_hint: 1, None
          size_hint_y: None
          height: self.minimum_height
          multiselect: False
      GridLayout:
        id: total_calc
        rows:3
        size_hint:  1 , 0.15
        Label:
          id:subtotal
          text: "Subtotal: $0.00"
          halign: "right"
          text_size: self.width*7/8, None 
        Label:
          id:tax
          text: "Tax: $0.00"
          halign: "right"
          text_size: self.width*7/8, None 
        Label:
          id:total
          text: "Total: $0.00"
          halign: "right"
          text_size: self.width*7/8, None 
           
      BoxLayout:
        rows: 1
        cols: 2
        id: total_buttons
        text: 'Payout Buttons Area'
        size_hint:  1 , 0.10
        Button:
          id:print_button
          text: "Print"
        CheckoutButton:
          id:checkout_button
          text: "Checkout"


    BoxLayout:
      orientation: 'vertical'
      id: right
      BoxLayout:
        size_hint:  1 , 0.05
        orientation: 'horizontal'
        Label:
          id: seat_customer_id
          text: "00000000"
          size_hint: 0.35, 1
        SymbolArea:
          id: symbol_area
          orientation: 'vertical'
          size_hint: 0.65,1 
          BoxLayout:
            id: symbols_half_solved
            Button:
              text: "1"
            Button:
              text: "2"
            Button:
              text: "3"
            Button:
              text: "4"
            Button:
              text: "5"
            Button:
              text: "6"
            Button:
              text: "7"
            Button:
              text: "8"
          BoxLayout:
            id: symbols_solved
            Button:
              text: "1"
            Button:
              text: "2"
            Button:
              text: "3"
            Button:
              text: "4"
            Button:
              text: "5"
            Button:
              text: "6"
            Button:
              text: "7"
            Button:
              text: "8"

  
             
      BoxLayout:
        id: table_area
        rows:1
        cols:3
        size_hint:  1 , 0.2
      BoxLayout:
        size_hint: 1, 0.15
        rows: 1
        cols: 4
        MenuCategoryToggleButton:
          text: "B"        
          group: "menu_category"
        MenuCategoryToggleButton:
          text: "R"        
          group: "menu_category"
        MenuCategoryToggleButton:
          text: "G"        
          group: "menu_category"
        MenuCategoryToggleButton:
          text: "Y"        
          group: "menu_category"

      GridLayout:
        id: menu_grid
        rows:5
        cols:5
        size_hint:  1 , 0.6


